# TODO

## Выполнено [+]

[+] Добавить в ЛК график поверки, импорт/экспорт Excel, рассылку на почту за 2 недели до поверки
[+] Добавить оборудование компании в ЛК, чекбоксы для выбора, кнопка "Создать заявку" → автозаполнение и отправка
[+] Убрать справочную информацию из основной навигации, сделать ЛК профессиональным (B2B)
[+] Убрать контрибьютора из GitHub
[+] Два графика в ЛК: График ИО (испытательное оборудование) и График СИ (средства измерений)
[+] Админ-панель — редизайн с layout и сайдбаром (как ЛК пользователя)
[+] AdminAuthContext — централизованная авторизация (src/lib/AdminAuthContext.tsx)
[+] Layout с сайдбаром: Заявки, Аналитика, Услуги, Настройки (src/app/admin/layout-client.tsx)
[+] Мобильная версия: гамбургер-меню + overlay sidebar
[+] Аналитика на отдельной странице (/admin/analytics) с графиками и метриками
[+] Настройки и Услуги: убран дублированный хедер и авторизация
[+] Удалён компонент AdminAnalytics.tsx (логика в analytics/page.tsx)
[+] Чекбокс есть в ContactForm.tsx, бэкенд в /api/submit создаёт Equipment записи для авторизованных пользователей.
[+] Проанализировать структуру этих файлов
[+] Добавить возможность экспорта графика поверки/аттестации в формате этих шаблонов
[+] Кнопка "Скачать график" на страницах /dashboard/schedule/si и /dashboard/schedule/io
[+] Ссылка на личный кабинет в Header главной страницы (уже была)
[+] Восстановление пароля: /forgot-password, /reset-password, email с ссылкой, модель PasswordReset
[+] Смена пароля в ЛК: /dashboard/profile с формой смены пароля
[+] Профиль пользователя в сайдбаре ЛК: dropdown с "Профиль" и "Выйти"
[+] Убрать ссылку "Услуги" из сайдбара админки (уже была убрана)
[+] Множественная загрузка файлов в заявке (до нескольких файлов): модель RequestFile, ContactForm с multiple, отображение в админке и ЛК, вложения в email
[+] Skeleton-загрузчики (shimmer) при первом рендере — src/app/loading.tsx
[+] Анимации появления секций при скролле — уже реализованы через whileInView
[+] Секция «Наши клиенты» с логотипами и счётчиками — src/components/Clients.tsx
[+] Анимированные счётчики в Hero (4 показателя: лет, поверок, клиентов, удовлетворённость)
[+] Индикатор надёжности пароля при регистрации (3 уровня с цветовой индикацией)
[+] Toast-уведомления (sonner) на логине и регистрации
[+] «Запомнить меня» на странице логина (7 дней / 30 дней cookie)
[+] Прогресс-бар загрузки файлов в ContactForm (XHR с onprogress)
[+] Виджет «Ближайшая поверка через X дней» с цветовой индикацией срочности
[+] Empty states с иконками и призывом к действию (оборудование, заявки, графики)
[+] Breadcrumbs в ЛК (layout.tsx)
[+] Фильтрация и поиск на странице оборудования — уже были реализованы
[+] Bell-уведомления в хедере ЛК (просрочки, ближайшие поверки, заявки в работе)
[+] Bulk-действия: чекбоксы + панель (изменить статус, удалить выбранные)
[+] Экспорт CSV с выбором периода (неделя / месяц / квартал)
[+] Lazy-load тяжёлых секций (Portfolio, Testimonials) через dynamic import
[+] loading.tsx + error.tsx для admin и dashboard
[+] Общий файл типов src/types/index.ts (Equipment, Request, AdminRequest, User, ServiceItem)
[+] Лимит файлов в заявке: максимум 5 файлов
[+] Email пользователю при смене статуса заявки (sendStatusUpdateEmail в email.ts)
[+] Генерация КП (HTML→PDF через печать браузера) — /api/admin/kp/[id], кнопка «КП» в заявке
[+] LocalBusiness Schema.org — уже был в layout.tsx
[+] Open Graph мета-теги с изображением hero — layout.tsx
[+] FAQPage schema для секции вопросов — layout.tsx
[+] Оптимизация изображений — Portfolio переведён на next/image с sizes для srcSet
[+] Шаблоны документов: акт ввода в эксплуатацию, паспорт СИ, журнал учёта СИ — /dashboard/documents
[+] Калькулятор МПИ на основе истории поверок — /dashboard/mpi
[+] OAuth авторизация через Яндекс ID / VK ID — /api/auth/yandex, /api/auth/vk
[+] Интеграция с ФГИС «Аршин» — кнопка «Аршин» в форме оборудования, прокси /api/arshin
[+] /dashboard/equipment/si, /dashboard/equipment/io - добавь кастомное окно удаления оборудования, а не браузерное.
[+] Также добавь визуальное обозначение отправки заявки, а то при выборе оборудования из списка, появляется кнопка "Создать заявку", потом появляется окно со списком выбранного, кстати в этом окне выбранного оборудования можно перечислять оборудование в виде красивой таблицы. Ну и при нажатии на кнопку "Создать заявку" в этом окне, сама кнопка не меняется, но заявка создаётся, через 3-5 секунд окно закрывается и появляется уведомление об успешно-созданной заявке, мне как пользователю было не понятно, создается ли заявка или нет.
[+] Также хочу добавить, что заявки поступают на почту zakaz@csm-center.ru, а все остальное: их статус, добавление в Аршин, и тд, происходит через info@csm-center.ru
[+] Аршин: экспорт графика поверок с актуальными датами из Аршин (кнопка "Экспорт с проверкой Аршин")
[+] Аршин: страница "Реестр поверок" в ЛК — история всех поверок из ФГИС Аршин по оборудованию пользователя
[+] Аршин: проверка типа СИ в реестре допущенных через MIT API, статус в карточке оборудования
[+] Аршин: Также я заметил, что в поиске оборудования по названию компании находит только 50 оборудований, я подозреваю, что на Аршин их гораздо больше, нужно показывать их все

## Запланировано [ ]

[+] Аршин: email-уведомление пользователю когда поверка появилась в ФГИС Аршин (фоновая проверка по серийному номеру)
